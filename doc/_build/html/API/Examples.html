
<!DOCTYPE html>

<html lang="Python">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Examples &#8212; PyAEDT 0.5.0 documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><style>
    .navbar-light {
        background-color: black !important;
    }
</style>

<div class="container-xl">

    <a class="navbar-brand" href="../index.html">
    
      <img src="../_static/logo-ansys.png" class="logo" alt="logo" />
    
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon" >
        <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
      </span>
    </button>
    
    <div id="navbar-menu" class="col-lg-9 collapse navbar-collapse">
      <ul id="navbar-main-elements" class="navbar-nav mr-auto">
        
        
        <li class="nav-item ">
            <a class="nav-link" href="../LICENSE.html">License Agreeement</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../Resources/Installation.html">Installation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="API.html">API documentation</a>
        </li>
        
        <li class="nav-item ">
            <a class="nav-link" href="../Resources/Code_Guidelines.html">Code Guidelines</a>
        </li>
        
        
      </ul>


      

      <ul class="navbar-nav">
        
          <li class="nav-item">
            <a class="nav-link" href="https://github.com/pyansys/PyAEDT" target="_blank" rel="noopener">
              <span><i class="fab fa-github-square" style="font-size:24px"></i></span>
            </a>
          </li>
        
        
        
      </ul>
    </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example">
   Example
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<p>Here you can find a list of examples that shows how to use PyAEDT in
real practical cases.</p>
<p><strong>Getting Started Examples:</strong></p>
<p>Jupyeter can be launched with the following command:</p>
<p><em>&quot;jupyter lab pathtopyaedtRoot/Documentation/Examples/example_name.ipynb&quot;</em> and jupyter server will be launched and the notebook will be loaded</p>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p><strong>1. Insert a Maxwell design and instantiate Geometry modeler.</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyaedt.Destkop</span> <span class="kn">import</span> <span class="n">Desktop</span>
<span class="kn">from</span> <span class="nn">pyaedt.Circuit</span> <span class="kn">import</span> <span class="n">Maxwell3D</span>

<span class="k">with</span> <span class="n">Desktop</span><span class="p">(</span><span class="s2">&quot;2020.1&quot;</span><span class="p">,</span> <span class="n">NG</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
     <span class="c1"># AEDT 2020R1 in Non-Graphicalmode will be launched</span>
     <span class="n">M3D</span> <span class="o">=</span> <span class="n">Maxwell3D</span><span class="p">(</span><span class="n">solution_type</span><span class="o">=</span><span class="s2">&quot;EddyCurrent&quot;</span><span class="p">)</span>
     <span class="n">GEO</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">modeler</span>
     <span class="n">GEO</span><span class="o">.</span><span class="n">model_units</span> <span class="o">=</span> <span class="s2">&quot;mm&quot;</span>
     <span class="n">CS</span> <span class="o">=</span> <span class="n">GEO</span><span class="o">.</span><span class="n">coordinate_system</span>
</pre></div>
</div>
<p><strong>2. Create the Model</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plate</span> <span class="o">=</span> <span class="n">GEO</span><span class="o">.</span><span class="n">primitives</span><span class="o">.</span><span class="n">create_box</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">294</span><span class="p">,</span> <span class="mi">294</span><span class="p">,</span> <span class="mi">19</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Plate&quot;</span><span class="p">,</span> <span class="n">matname</span><span class="o">=</span><span class="s2">&quot;aluminum&quot;</span><span class="p">)</span>
<span class="n">hole</span> <span class="o">=</span> <span class="n">GEO</span><span class="o">.</span><span class="n">primitives</span><span class="o">.</span><span class="n">create_box</span><span class="p">([</span><span class="mi">18</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">108</span><span class="p">,</span> <span class="mi">108</span><span class="p">,</span> <span class="mi">19</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Hole&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>3. modeler operations</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">GEO</span><span class="o">.</span><span class="n">subtract</span><span class="p">([</span><span class="n">plate</span><span class="p">],</span> <span class="p">[</span><span class="n">hole</span><span class="p">])</span>
<span class="n">M3D</span><span class="o">.</span><span class="n">assignmaterial</span><span class="p">(</span><span class="n">plate</span><span class="p">,</span> <span class="s2">&quot;aluminum&quot;</span><span class="p">)</span>
<span class="n">M3D</span><span class="o">.</span><span class="n">solve_inside</span><span class="p">(</span><span class="s2">&quot;Plate&quot;</span><span class="p">)</span>
<span class="n">adaptive_frequency</span> <span class="o">=</span> <span class="s2">&quot;200Hz&quot;</span>
<span class="n">p_plate</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">volumetric_loss</span><span class="p">(</span><span class="s2">&quot;Plate&quot;</span><span class="p">)</span> <span class="c1"># Create fields postprocessing variable for loss in object Plate</span>
<span class="n">M3D</span><span class="o">.</span><span class="n">save_project</span><span class="p">(</span><span class="n">project_name</span><span class="p">)</span> <span class="c1"># unable to save file by passing the file name or directory as an argument.</span>
</pre></div>
</div>
<p><strong>4. Create Coils</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">center_hole</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">Position</span><span class="p">(</span><span class="mi">119</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">49</span><span class="p">)</span>
<span class="n">center_coil</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">Position</span><span class="p">(</span><span class="mi">94</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">49</span><span class="p">)</span>
<span class="n">coil_hole</span> <span class="o">=</span> <span class="n">GEO</span><span class="o">.</span><span class="n">primitives</span><span class="o">.</span><span class="n">create_box</span><span class="p">(</span><span class="n">center_hole</span><span class="p">,</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Coil_Hole&quot;</span><span class="p">)</span>  <span class="c1"># All positions in model units</span>
<span class="n">coil</span> <span class="o">=</span> <span class="n">GEO</span><span class="o">.</span><span class="n">primitives</span><span class="o">.</span><span class="n">create_box</span><span class="p">(</span><span class="n">center_coil</span><span class="p">,</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Coil&quot;</span><span class="p">)</span>  <span class="c1"># All positions in model units</span>
<span class="n">GEO</span><span class="o">.</span><span class="n">subtract</span><span class="p">([</span><span class="n">coil</span><span class="p">],</span> <span class="p">[</span><span class="n">coil_hole</span><span class="p">])</span>
<span class="n">M3D</span><span class="o">.</span><span class="n">assignmaterial</span><span class="p">(</span><span class="n">coil</span><span class="p">,</span> <span class="s2">&quot;copper&quot;</span><span class="p">)</span>
<span class="n">M3D</span><span class="o">.</span><span class="n">solve_inside</span><span class="p">(</span><span class="s2">&quot;Coil&quot;</span><span class="p">)</span>
<span class="n">p_coil</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">volumetric_loss</span><span class="p">(</span><span class="s2">&quot;Coil&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>5. Create relative coordinate system</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">CS</span><span class="o">.</span><span class="n">create</span><span class="p">([</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">view</span><span class="o">=</span><span class="s2">&quot;XY&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Coil_CS&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>6. Create coil terminal</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">GEO</span><span class="o">.</span><span class="n">section</span><span class="p">([</span><span class="s2">&quot;Coil&quot;</span><span class="p">],</span> <span class="n">M3D</span><span class="o">.</span><span class="n">CoordinateSystemPlane</span><span class="o">.</span><span class="n">ZXPlane</span><span class="p">)</span>
<span class="n">GEO</span><span class="o">.</span><span class="n">separate_bodies</span><span class="p">([</span><span class="s2">&quot;Coil_Section1&quot;</span><span class="p">])</span>
<span class="n">GEO</span><span class="o">.</span><span class="n">primitives</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;Coil_Section1_Separate1&quot;</span><span class="p">)</span>
<span class="n">M3D</span><span class="o">.</span><span class="n">assign_current</span><span class="p">([</span><span class="s2">&quot;Coil_Section1&quot;</span><span class="p">],</span> <span class="n">amplitude</span><span class="o">=</span><span class="mi">2472</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>7. draw region</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">M3D</span><span class="o">.</span><span class="n">modeler</span><span class="o">.</span><span class="n">create_air_region</span><span class="p">(</span><span class="n">pad_percent</span><span class="o">=</span><span class="p">[</span><span class="mi">300</span><span class="p">]</span> <span class="o">*</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>8. Simulation Setup</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">M3D</span><span class="o">.</span><span class="n">eddy_effects_on</span><span class="p">([</span><span class="s1">&#39;Plate&#39;</span><span class="p">])</span>
<span class="n">Setup</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">create_setup</span><span class="p">()</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;MaximumPasses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;MinimumPasses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;MinimumConvergedPasses&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;PercentRefinement&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;Frequency&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">adaptive_frequency</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;HasSweepSetup&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;StartValue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1e-08GHz&quot;</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;StopValue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1e-06GHz&quot;</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">props</span><span class="p">[</span><span class="s2">&quot;StepSize&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;2e-08GHz&quot;</span>

<span class="n">Setup</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="n">Setup</span><span class="o">.</span><span class="n">enable_expression_cache</span><span class="p">([</span><span class="n">p_plate</span><span class="p">,</span> <span class="n">p_coil</span><span class="p">],</span> <span class="s2">&quot;Fields&quot;</span><span class="p">,</span> <span class="s2">&quot;Phase=</span><span class="se">\&#39;</span><span class="s2">0deg</span><span class="se">\&#39;</span><span class="s2"> &quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>8. Solve Project</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">M3D</span><span class="o">.</span><span class="n">analyse_nominal</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>8. Get Report Data</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">M3D</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">report_types</span>
<span class="p">[</span><span class="s1">&#39;EddyCurrent&#39;</span><span class="p">,</span> <span class="s1">&#39;Fields&#39;</span><span class="p">]</span>
<span class="n">val</span> <span class="o">=</span> <span class="n">M3D</span><span class="o">.</span><span class="n">post</span><span class="o">.</span><span class="n">get_report_data</span><span class="p">(</span><span class="n">expression</span><span class="o">=</span><span class="s2">&quot;SolidLoss&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>8. Advanced Plot with matplotlib</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Frequency (Hz)&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Solid Losses (W)&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Losses Chart&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">mag_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">data_magnitude</span><span class="p">())</span>
<span class="n">freq_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">i</span><span class="o">*</span><span class="mf">1e9</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">val</span><span class="o">.</span><span class="n">sweeps</span><span class="p">[</span><span class="s2">&quot;Freq&quot;</span><span class="p">]])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">freq_data</span><span class="p">,</span> <span class="n">mag_data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/maxwell_losses.png"><img alt="../_images/maxwell_losses.png" src="../_images/maxwell_losses.png" style="width: 600pt;" /></a>
<figcaption>
<p><span class="caption-text">Matplotlib Losses Plot</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p><strong>9. Save and Close</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">M3D</span><span class="o">.</span><span class="n">save_project</span><span class="p">(</span><span class="n">project_name</span><span class="p">)</span>
</pre></div>
</div>
<p>Plots can be generated within AEDT or externally as shown in this
example. Additional examples show that the approach can be
applied to touchstone or other report data. Additionally, Field Plots
can be exported and processed using <code class="docutils literal notranslate"><span class="pre">Plotly</span></code> package</p>
</section>
</section>


              </div>
              
              
              <div class='prev-next-bottom'>
                

              </div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright Copyright(c) 1986-2021, ANSYS Inc. unauthorised use, distribution or duplication is prohibited..<br/>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.0.2.<br/>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>