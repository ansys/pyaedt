move add calculation to CommonOptimetrics